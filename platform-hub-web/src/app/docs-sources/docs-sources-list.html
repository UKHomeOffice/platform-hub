<div class="docs-sources-list">
  <md-toolbar>
    <div class="md-toolbar-tools">
      <h3>
        <span>All Docs Sources</span>
      </h3>
      <span flex></span>
      <md-button
        aria-label="Add new docs source"
        ui-sref="docs-sources.new">
        <md-icon>add_box</md-icon>
        New
      </md-button>
    </div>
  </md-toolbar>

  <loading-indicator loading="$ctrl.loading"></loading-indicator>

  <md-content>

    <div layout="column" layout-align="center center" layout-padding>
      <p class="md-body-1" md-colors="{background: 'orange-50', color: 'orange'}"
      layout-padding>
        <span><strong>Important:</strong></span>
        <br />
        <span>
          - All indexed content from these sources will be visible to all logged in users of the hub (through the help search).
        </span>
        <br />
        <span>
          - Sources are not currently synced automatically - you need to trigger a sync using the options below whenever sources are added, or content is added/updated/deleted from the sources.
        </span>
      </p>

      <div>
        <md-button
          class="md-primary md-raised"
          ng-disabled="!$ctrl.FeatureFlags.isEnabled($ctrl.featureFlagKeys.docsSync)"
          ng-click="$ctrl.triggerSyncAll()"
          aria-label="Trigger a sync job to sync all docs sources">
          Trigger sync all
        </md-button>
      </div>
    </div>

    <md-card ng-repeat="s in $ctrl.sources track by s.id">
      <md-card-title>
        <md-card-title-text>
          <span class="md-headline">
            {{s.name}}

            <small
              class="badge float-right"
              md-colors="{background: 'blue'}">
              {{$ctrl.DocsSources.kinds[s.kind]}}
            </small>
          </span>
        </md-card-title-text>
      </md-card-title>

      <md-card-content>
      </md-card-content>

      <md-card-actions layout="row" layout-align="start center">
        <md-button
          class="md-primary"
          aria-label="View details of this docs source"
          ui-sref="docs-sources.detail({id: s.id})">
          Details
        </md-button>
        <md-button
          ng-disabled="!$ctrl.FeatureFlags.isEnabled($ctrl.featureFlagKeys.docsSync)"
          ng-click="$ctrl.triggerSync(s)"
          aria-label="Trigger a sync job for this particular docs source">
          Trigger sync
        </md-button>
      </md-card-actions>
    </md-card>

  </md-content>
</div>
