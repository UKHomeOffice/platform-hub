<div class="app-shell" layout="column" layout-fill>

  <!-- Main header / toolbar -->
  <md-toolbar layout="row" class="md-toolbar-tools">
    <md-button
      class="app-menu-button md-icon-button"
      hide-gt-sm
      ng-click="$ctrl.toggleMenu()"
      aria-label="Show/hide menu">
      <md-icon md-svg-icon="menu"></md-icon>
    </md-button>
    <h1>HODDAT PaaS Hub</h1>
  </md-toolbar>

  <!-- Sidebar + content area -->
  <div flex layout="row">

    <md-sidenav
      class="md-sidenav-left"
      md-component-id="left"
      md-whiteframe="4"
      md-is-locked-open="$mdMedia('gt-sm')"
      ng-click="$ctrl.toggleMenu()">

      <auth-card></auth-card>

      <md-content>
        <md-sidemenu role="navigation" class="nav" ng-if="$ctrl.isAuthenticated()">
          <md-sidemenu-group>
            <md-subheader class="md-no-sticky">My Account</md-subheader>

            <md-sidemenu-button
              ng-repeat="item in $ctrl.myAccountNavStates"
              ui-sref="{{item.state}}"
              ui-sref-active="active">
              <md-icon ng-if="item.icon">{{item.icon}}</md-icon>
              <span>{{item.title}}</span>
            </md-sidemenu-button>
          </md-sidemenu-group>

          <md-sidemenu-group>
            <md-subheader class="md-no-sticky">Hub</md-subheader>

            <md-sidemenu-button
              ng-repeat="item in $ctrl.hubNavStates"
              ui-sref="{{item.state}}"
              ui-sref-active="active">
              <md-icon ng-if="item.icon">{{item.icon}}</md-icon>
              <span>{{item.title}}</span>
            </md-sidemenu-button>
          </md-sidemenu-group>

          <md-sidemenu-group ng-if="$ctrl.isAdmin">
            <md-subheader class="md-no-sticky">Admin</md-subheader>

            <md-sidemenu-button
              ng-repeat="item in $ctrl.adminNavStates"
              ui-sref="{{item.state}}"
              ui-sref-active="active">
              <md-icon ng-if="item.icon">{{item.icon}}</md-icon>
              <span>{{item.title}}</span>
            </md-sidemenu-button>
          </md-sidemenu-group>
        </md-sidemenu>
      </md-content>

    </md-sidenav>

    <md-content flex>
      <ui-view></ui-view>
    </md-content>

  </div>

</div>
